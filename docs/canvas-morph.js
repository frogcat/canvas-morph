!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);const i=Math.pow(2,-52),n=new Uint32Array(512);class a{static from(t,e=_,r=d){const i=t.length,n=new Float64Array(2*i);for(let a=0;a<i;a++){const i=t[a];n[2*a]=e(i),n[2*a+1]=r(i)}return new a(n)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:r,_hullTri:n,_hullHash:a}=this,o=t.length>>1;let l=1/0,f=1/0,_=-1/0,d=-1/0;for(let e=0;e<o;e++){const r=t[2*e],i=t[2*e+1];r<l&&(l=r),i<f&&(f=i),r>_&&(_=r),i>d&&(d=i),this._ids[e]=e}const g=(l+_)/2,v=(f+d)/2;let y,T,p,E=1/0;for(let e=0;e<o;e++){const r=s(g,v,t[2*e],t[2*e+1]);r<E&&(y=e,E=r)}const A=t[2*y],m=t[2*y+1];E=1/0;for(let e=0;e<o;e++){if(e===y)continue;const r=s(A,m,t[2*e],t[2*e+1]);r<E&&r>0&&(T=e,E=r)}let w=t[2*T],b=t[2*T+1],S=1/0;for(let e=0;e<o;e++){if(e===y||e===T)continue;const r=u(A,m,w,b,t[2*e],t[2*e+1]);r<S&&(p=e,S=r)}let R=t[2*p],x=t[2*p+1];if(S===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];c(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let r=0;for(let t=0,i=-1/0;t<o;t++){const n=this._ids[t];this._dists[n]>i&&(e[r++]=n,i=this._dists[n])}return this.hull=e.subarray(0,r),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(h(A,m,w,b,R,x)){const t=T,e=w,r=b;T=p,w=R,b=x,p=t,R=e,x=r}const M=function(t,e,r,i,n,a){const s=r-t,o=i-e,h=n-t,l=a-e,u=s*s+o*o,c=h*h+l*l,f=.5/(s*l-o*h);return{x:t+(l*u-o*c)*f,y:e+(s*c-h*u)*f}}(A,m,w,b,R,x);this._cx=M.x,this._cy=M.y;for(let e=0;e<o;e++)this._dists[e]=s(t[2*e],t[2*e+1],M.x,M.y);c(this._ids,this._dists,0,o-1),this._hullStart=y;let U=3;r[y]=e[p]=T,r[T]=e[y]=p,r[p]=e[T]=y,n[y]=0,n[T]=1,n[p]=2,a.fill(-1),a[this._hashKey(A,m)]=y,a[this._hashKey(w,b)]=T,a[this._hashKey(R,x)]=p,this.trianglesLen=0,this._addTriangle(y,T,p,-1,-1,-1);for(let s,o,l=0;l<this._ids.length;l++){const u=this._ids[l],c=t[2*u],f=t[2*u+1];if(l>0&&Math.abs(c-s)<=i&&Math.abs(f-o)<=i)continue;if(s=c,o=f,u===y||u===T||u===p)continue;let _=0;for(let t=0,e=this._hashKey(c,f);t<this._hashSize&&(-1===(_=a[(e+t)%this._hashSize])||_===r[_]);t++);let d,g=_=e[_];for(;d=r[g],!h(c,f,t[2*g],t[2*g+1],t[2*d],t[2*d+1]);)if((g=d)===_){g=-1;break}if(-1===g)continue;let v=this._addTriangle(g,u,r[g],-1,-1,n[g]);n[u]=this._legalize(v+2),n[g]=v,U++;let E=r[g];for(;d=r[E],h(c,f,t[2*E],t[2*E+1],t[2*d],t[2*d+1]);)v=this._addTriangle(E,u,d,n[u],-1,n[E]),n[u]=this._legalize(v+2),r[E]=E,U--,E=d;if(g===_)for(;h(c,f,t[2*(d=e[g])],t[2*d+1],t[2*g],t[2*g+1]);)v=this._addTriangle(d,u,g,-1,n[g],n[d]),this._legalize(v+2),n[d]=v,r[g]=g,U--,g=d;this._hullStart=e[u]=g,r[g]=e[E]=u,r[u]=E,a[this._hashKey(c,f)]=u,a[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(U);for(let t=0,e=this._hullStart;t<U;t++)this.hull[t]=e,e=r[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:r,coords:i}=this;let a=0,s=0;for(;;){const o=r[t],h=t-t%3;if(s=h+(t+2)%3,-1===o){if(0===a)break;t=n[--a];continue}const u=o-o%3,c=h+(t+1)%3,f=u+(o+2)%3,_=e[s],d=e[t],g=e[c],v=e[f];if(l(i[2*_],i[2*_+1],i[2*d],i[2*d+1],i[2*g],i[2*g+1],i[2*v],i[2*v+1])){e[t]=v,e[o]=_;const i=r[f];if(-1===i){let e=this._hullStart;do{if(this._hullTri[e]===f){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,i),this._link(o,r[s]),this._link(s,f);const h=u+(o+1)%3;a<n.length&&(n[a++]=h)}else{if(0===a)break;t=n[--a]}}return s}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,r,i,n,a){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,n),this._link(s+2,a),this.trianglesLen+=3,s}}function s(t,e,r,i){const n=t-r,a=e-i;return n*n+a*a}function o(t,e,r,i,n,a){const s=(i-e)*(n-t),o=(r-t)*(a-e);return Math.abs(s-o)>=33306690738754716e-32*Math.abs(s+o)?s-o:0}function h(t,e,r,i,n,a){return(o(n,a,t,e,r,i)||o(t,e,r,i,n,a)||o(r,i,n,a,t,e))<0}function l(t,e,r,i,n,a,s,o){const h=t-s,l=e-o,u=r-s,c=i-o,f=n-s,_=a-o,d=u*u+c*c,g=f*f+_*_;return h*(c*g-d*_)-l*(u*g-d*f)+(h*h+l*l)*(u*_-c*f)<0}function u(t,e,r,i,n,a){const s=r-t,o=i-e,h=n-t,l=a-e,u=s*s+o*o,c=h*h+l*l,f=.5/(s*l-o*h),_=(l*u-o*c)*f,d=(s*c-h*u)*f;return _*_+d*d}function c(t,e,r,i){if(i-r<=20)for(let n=r+1;n<=i;n++){const i=t[n],a=e[i];let s=n-1;for(;s>=r&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=i}else{let n=r+1,a=i;f(t,r+i>>1,n),e[t[r]]>e[t[i]]&&f(t,r,i),e[t[n]]>e[t[i]]&&f(t,n,i),e[t[r]]>e[t[n]]&&f(t,r,n);const s=t[n],o=e[s];for(;;){do{n++}while(e[t[n]]<o);do{a--}while(e[t[a]]>o);if(a<n)break;f(t,n,a)}t[r+1]=t[a],t[a]=s,i-n+1>=a-r?(c(t,e,n,i),c(t,e,r,a-1)):(c(t,e,r,a-1),c(t,e,n,i))}}function f(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}function _(t){return t[0]}function d(t){return t[1]}!function(t){function e(t,e){for(var r=[],i=0;i<e.length;i+=3)for(var n=0;n<3;n++)r.push(t[n+0]*e[i+0]+t[n+3]*e[i+1]+t[n+6]*e[i+2]);return r}function r(t,e){return[t[0]-e[0],t[1]-e[1]]}function i(t,e){return t[0]*e[1]-t[1]*e[0]}var n=t.prototype.getContext;t.prototype.getContext=function(t,s){var o=this;if("morph"!==t)return n.apply(o,[t,s]);var h,l=o.getContext("webgl",{preserveDrawingBuffer:!0}),u=this.pg=l.createProgram();if(h=l.createShader(l.VERTEX_SHADER),l.shaderSource(h,"attribute vec4 p;varying vec2 a;uniform vec4 m;void main(){vec4 q=m*p;gl_Position=vec4(q.zw,0,1)+vec4(-1,1,0,0);a=q.xy;}"),l.compileShader(h),l.attachShader(u,h),function(t){l.shaderSource(t,"precision mediump float;uniform sampler2D i;varying vec2 a;void main(){gl_FragColor=texture2D(i,a);}"),l.compileShader(t),l.attachShader(u,t)}(l.createShader(l.FRAGMENT_SHADER)),l.linkProgram(u),!l.getProgramParameter(u,l.LINK_STATUS))throw new Error(l.getProgramInfoLog(u));l.useProgram(u);var c=null;return{_coords:null,canvas:o,drawImage:function(t,e){if(c!==t){var r=document.createElement("canvas");r.width=Math.pow(2,Math.ceil(Math.log2(t.naturalWidth))),r.height=Math.pow(2,Math.ceil(Math.log2(t.naturalHeight))),r.getContext("2d").drawImage(t,0,0),i=l.createTexture(),l.bindTexture(l.TEXTURE_2D,i),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,r),function(t){l.uniform4f(t,1/r.width,1/r.height,2/o.width,-2/o.height)}(l.getUniformLocation(u,"m")),c=t}var i,n=[];a.from(e).triangles.forEach((function(t){Array.prototype.push.apply(n,e[t])})),this._coords=n;var s=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,s),l.bufferData(l.ARRAY_BUFFER,new Float32Array(n),l.STATIC_DRAW);var h=l.getAttribLocation(u,"p");l.enableVertexAttribArray(h),l.vertexAttribPointer(h,4,l.FLOAT,!1,0,0),l.drawArrays(l.TRIANGLES,0,n.length/4)},clear:function(){l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)},getTexturePointAt:function(t,n){for(var a,s,o,h,l,u,c,f,_,d,g,v,y,T,p,E,A=this._coords,m=0;m<A.length;m+=12){var w=[[A[m+2],A[m+3]],[A[m+6],A[m+7]],[A[m+10],A[m+11]]],b=[[A[m+0],A[m+1]],[A[m+4],A[m+5]],[A[m+8],A[m+9]]];if(u=[t,n],f=void 0,_=void 0,d=void 0,g=void 0,v=void 0,y=void 0,T=void 0,p=void 0,E=void 0,f=r((c=w)[1],c[0]),_=r(c[2],c[1]),d=r(c[0],c[2]),g=r(u,c[0]),v=r(u,c[1]),y=r(u,c[2]),T=i(f,v),p=i(_,y),E=i(d,g),T>0&&p>0&&E>0||T<0&&p<0&&E<0){var S=(s=b,o=void 0,h=void 0,l=void 0,l=[(a=w)[0][0],a[0][1],1,a[1][0],a[1][1],1,a[2][0],a[2][1],1],e([s[0][0],s[0][1],1,s[1][0],s[1][1],1,s[2][0],s[2][1],1],(h=(o=l)[0]*o[4]*o[8]+o[3]*o[7]*o[2]+o[6]*o[1]*o[5]-o[0]*o[7]*o[5]-o[6]*o[4]*o[2]-o[3]*o[1]*o[8],[(o[4]*o[8]-o[7]*o[5])/h,(o[7]*o[2]-o[1]*o[8])/h,(o[1]*o[5]-o[4]*o[2])/h,(o[6]*o[5]-o[3]*o[8])/h,(o[0]*o[8]-o[6]*o[2])/h,(o[3]*o[2]-o[0]*o[5])/h,(o[3]*o[7]-o[6]*o[4])/h,(o[6]*o[1]-o[0]*o[7])/h,(o[0]*o[4]-o[1]*o[3])/h]))),R=e(S,[t,n,1]);return[R[0],R[1]]}}return null}}}}(HTMLCanvasElement)}]);